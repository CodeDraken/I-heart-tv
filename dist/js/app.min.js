"use strict";function changeActivePost(t){if($(t).hasClass("active"));else{var e=$(t).parent().attr("id"),o="moviePostRow"==e?"#expandHolder":"#expandHolderTwo";$(o+" .post-expand-wrapper").css("opacity",0),$("#"+e+" .post").removeClass("active"),$(t).addClass("active"),postsModule.setActive(t.dataset.postType,Number(t.dataset.indexNum)+1),setTimeout(function(){loadPostInfo(t.dataset.postType,Number(t.dataset.indexNum),o)},500)}}function generatePosts(t,e,o){var s,a="";for(s=0;s<6;s++){var i=t.results[s];if(void 0==i)return void $(e).html(a);var n=i.title||i.name,r=0===s?" active":"",d='<div class="post'+r+'" data-index-num="'+s+'" data-post-type="'+o+'"><img class="display-img" src="https://image.tmdb.org/t/p/w150'+i.poster_path+'" alt="missing poster image"><h3 class="title">'+n+"</h3></div>";a+=d,loadPostInfo(o,0)}postsModule.setPostAmount(o,s),$(e).html(a)}function loadPostInfo(t,e,o){if("movie"==t){var s=APIModule.getMovies().results[e];$("#expand-title").text(s.title),addTrophy("#expand-trophy-container",Math.ceil(s.vote_average/2)),$("#expand-desc").text(s.overview),$("#expand-poster").html('<img src="https://image.tmdb.org/t/p/w300'+s.poster_path+'" alt="">'),$(o+" .post-expand-wrapper").css("opacity",1)}else{var s=APIModule.getTV().results[e];$("#expand-title-two").text(s.name),addTrophy("#expand-trophy-container-two",Math.ceil(s.vote_average/2)),$("#expand-desc-two").text(s.overview),$("#expand-poster-two").html('<img src="https://image.tmdb.org/t/p/w300'+s.poster_path+'" alt="">'),$(o+" .post-expand-wrapper").css("opacity",1)}}function addTrophy(t,e){for(var o="",s=0;s<e;s++)o+='<i class="fa fa-trophy" aria-hidden="true"></i>';$(t).html(o)}function loadMovies(){APIModule.getMovies()?generatePosts(APIModule.getMovies(),"#moviePostRow","movie"):setTimeout(function(){console.log("loading movies"),loadMovies()},250)}function loadTV(){APIModule.getTV()?generatePosts(APIModule.getTV(),"#tvPostRow","tv"):setTimeout(function(){console.log("loading tv"),loadTV()},250)}$(document).ready(function(){loadMovies(),loadTV(),$("body").on("click",".post",function(){var t=this;changeActivePost(t)}),$(".expandArrow").on("click",function(){var t=this,e=t.id;switch(e){case"prevMovie":changeActivePost(postsModule.selectPost("#moviePostRow",postsModule.prevActive("movie")));break;case"nextMovie":changeActivePost(postsModule.selectPost("#moviePostRow",postsModule.nextActive("movie")));break;case"prevTV":changeActivePost(postsModule.selectPost("#tvPostRow",postsModule.prevActive("tv")));break;case"nextTV":changeActivePost(postsModule.selectPost("#tvPostRow",postsModule.nextActive("tv")))}})}),$("a[href^=\\#]").on("click",function(t){var e=$("html, body");t.preventDefault(),$(e).animate({scrollTop:$(this.hash).offset().top},500)});var postsModule=function(){var t=0,e=0,o=1,s=1;return{setActive:function(t,e){"movie"==t?o=e:s=e},nextActive:function(a){return"movie"==a?(o++,o>t?o=1:o):(s++,s>e?s=1:s)},prevActive:function(a){return"movie"==a?(o--,o<1?o=t:o):(s--,s<1?s=e:s)},setPostAmount:function(o,s){"movie"==o?t=s:e=s},getPostAmount:function(o){return"movie"==o?t:e},selectPost:function(t,e){var o=$(t+" .post").eq(e-1)[0];return o}}}(),APIModule=function(){var t,e,o={async:!0,crossDomain:!0,url:"https://api.themoviedb.org/3/movie/now_playing?page=1&language=en-US&api_key=d79aada4e3638b2d2b5b220c070d814d",method:"GET",headers:{},data:"{}"},s={async:!0,crossDomain:!0,url:"https://api.themoviedb.org/3/tv/popular?page=1&language=en-US&api_key=d79aada4e3638b2d2b5b220c070d814d",method:"GET",headers:{},data:"{}"};return $.ajax(o).done(function(e){t=e}),$.ajax(s).done(function(t){e=t}),{getMovies:function(){if(t)return t},getTV:function(){if(e)return e}}}();